# Ralph Progress Log
Started: (new session)
---

## Codebase Patterns
- Use `npm run check` to typecheck the project
- Dark theme CSS variables are in `src/app.css` (--bg-darkest, --bg-dark, --bg-medium, --orange-accent, --green-primary, --red-destructive)
- SvelteKit 5 uses `$props()` for component props in `<script lang="ts">` blocks

---

## 2026-01-13 10:09 PM - setup-1
Thread: https://ampcode.com/threads/T-019bb7ae-94fe-7208-ad45-1437450c2de3
- Created SvelteKit 5 project with TypeScript
- Installed dependencies: dexie, @anthropic-ai/sdk, @supabase/supabase-js, vite-plugin-pwa
- Configured PWA in vite.config.ts with manifest and workbox settings
- Set up dark theme CSS variables in src/app.css (colors from AGENTS.md)
- Verified dev server runs without errors
- Files created: package.json, tsconfig.json, svelte.config.js, vite.config.ts, src/app.html, src/app.css, src/app.d.ts, src/routes/+layout.svelte, src/routes/+page.svelte
- **Learnings for future iterations:**
  - Manual SvelteKit project creation is more reliable than interactive `sv create` in automated contexts
  - PWA icons (pwa-192x192.png, pwa-512x512.png, apple-touch-icon.png) need to be added to static/ folder later
---

## 2026-01-13 - setup-2
Thread: https://ampcode.com/threads/T-019bb7b1-7b62-73db-9aad-e1429cea892f
- Created .env.example file with required environment variables
- ANTHROPIC_API_KEY for Claude Haiku API access
- PUBLIC_SUPABASE_URL and PUBLIC_SUPABASE_ANON_KEY for Supabase cloud sync
- Verified .gitignore already excludes .env files (keeps secrets safe)
- **Learnings for future iterations:**
  - .env.example uses placeholder values; actual secrets go in .env (gitignored)
  - SvelteKit uses PUBLIC_ prefix for client-accessible env vars
---

## 2026-01-13 - db-1
Thread: https://ampcode.com/threads/T-019bb7b2-95e1-76d4-a3e6-14be44520874
- Created Dexie database with exercises, entries, sessions, parseQueue tables
- TypeScript interfaces defined for all entities in src/lib/db/types.ts
- UUID generation with crypto.randomUUID() + fallback for non-secure contexts in src/lib/db/utils.ts
- Indexes added for sync queries: updatedAt, synced, sessionId, date, status
- Files created: src/lib/db/index.ts, src/lib/db/types.ts, src/lib/db/utils.ts
- **Learnings for future iterations:**
  - Dexie EntityTable requires specifying the primary key field as second type param
  - Export types and utilities from index.ts for cleaner imports
---

## 2026-01-13 - db-2
Thread: https://ampcode.com/threads/T-019bb7b7-d1cd-77ed-b116-75eee5c6c4e6
- Created seed data for 30 common strength exercises in src/lib/db/seed.ts
- Exercises organized by muscle group: Chest, Back, Shoulders, Arms, Legs, Core
- seedExercises() checks table count before seeding (only runs if empty)
- Seeding called from +layout.svelte onMount
- Files created: src/lib/db/seed.ts
- **Learnings for future iterations:**
  - Use db.table.count() to check if seeding needed
  - onMount in layout is good place for one-time initialization
---
